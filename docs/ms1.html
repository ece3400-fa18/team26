<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>ECE 3400 Team 26</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- Custom styles for this template -->
    <link href="css/agency.css" rel="stylesheet">

  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="index.html">Home</a>
        
      </div>
    </nav>

    <!-- Header -->
     <div class="pagehead">
      <div class="container">
        <h2>  </h2>
      </div>
    </div> 

    <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto">
            <div class="lab-page">
              <!-- Project Details Go Here -->
              <h2 class="text-uppercase text-left">Milestone 1: Basic Movement</h2>
              <p class="item-intro text-muted"> The goal of this lab is to make the robot to follow the line and traverse in a figure 8. The robot is controlled using the reading from line sensor in order to make decisions regarding following lines and turning. We first created a simpler iteration that followed straight lines, and after a successful implementation we modified the code so the robot could follow turns, and ultimately traverse the figure 8.</p>  

              
              <h3> Line Sensors </h3>
              <p>There are four line sensors attached to the front of the robot. Two line sensors are in the middle and two line sensors are on the outer side. For this part, we only need the middle ones for controlling the robot. The middle line sensors are on top of a white tape for following the straight line and making corrections. If either of them detects a value above the white tape threshold value, it means that the the robot is leaning towards one side. In this situation, the robot will make a slight correction by speeding up one of the servo by how much the robot is out of bound. The magnitude of how much the robot is out of bound is determined by the difference between the right middle sensor and the left middle sensor.  </p>             
              <!--<img class="img-fluid d-block mx-auto" width="400" height="80" src="./img/lab1/part 1.png" alt="">-->
              <iframe width="560" height="315" src="https://www.youtube.com/embed/UUIaZkpNXYs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
              <br>
              <code>
                void move(){
                  // Read analog values from two center sensors
                  right_pid_val = analogRead(right_pid); // signal from center right sensor
                  left_pid_val = analogRead(left_pid);   // signal from center left sensor
                  error = left_pid_val - right_pid_val; // Positive position to right of line
                  
                  // Correct robot's driving direction according to position error
                  if (abs(error) <= ERROR_RANGE){
                    left_servo.write(SERVO_L_FORWARD_MAX);
                    right_servo.write(SERVO_R_FORWARD_MAX);
                  }
                  
                  // Robot is too right of line
                  else if (error > ERROR_RANGE) {
                    // Adjust left
                    error_magnitude = abs(error)/(float)ERROR_RANGE;
                    left_servo.write(SERVO_L_FORWARD_MAX - error_magnitude*SERVO_L_INCR_FORWARD);
                    right_servo.write(SERVO_R_FORWARD_MAX + error_magnitude*SERVO_R_INCR_FORWARD);
                  }
                  // Robot is too left of line
                  else if (error < -(ERROR_RANGE)) {
                    // Adjust right
                    error_magnitude = abs(error)/(float)ERROR_RANGE;
                    left_servo.write(SERVO_L_FORWARD_MAX + error_magnitude*SERVO_L_INCR_FORWARD);
                    right_servo.write(SERVO_R_FORWARD_MAX - error_magnitude*SERVO_R_INCR_FORWARD);
                  }
                  delay(10);
                  
                }
              </code>
              
              <h3> Figure 8 Traversal </h3>
              <p> The two outer sensors are used to determine which direction to turn: if either sensor detects white, then the robot accordingly executes 90 degree turn in that direction. In the case where the robot sensors a white line in both the left and right direction (as in the vertex of a T), the robot defaults to right.</p>
              <p>For the purpose of a figure eight, the robot was hard coded to go right for the first three turns and left for the second three turns. This implementation was an extension of the previous “Following Straight Lines” so the application of the inner sensors remains the same as specified above. </p> 
              <!--<img class="img-fluid d-block mx-auto" width="400" height="80" src="./img/lab1/part 2.png" alt="">-->
              <code>
                INSERT CODE HERE
                <!--// the setup function runs once when you press reset or power the board<br>-->
                <!--void setup() {<br>-->
                <!--  &emsp; // initialize digital pin LED_BUILTIN as an output.<br>-->
                <!--  &emsp; pinMode(2, OUTPUT);<br>-->
                <!--  // int PINNAME = A2<br>-->
                <!--}<br>-->
                <!--<br>-->
                <!--// the loop function runs over and over again forever<br>-->
                <!--void loop() {<br>-->
                <!--  &emsp; digitalWrite(2, HIGH);   // turn the LED on (HIGH is the voltage level)<br>-->
                <!--  &emsp; delay(1000);             // wait for a second<br>-->
                <!--  &emsp; digitalWrite(2, LOW);    // turn the LED off by making the voltage LOW<br>-->
                <!--  &emsp; delay(1000);             // wait for a second<br>-->
                <!--}-->
              </code>

              <h3> Work Distribution </h3>
              <p> The Milestone 1 Work Distribution is as follows: <br> 
                  &emsp; - On 9/7, Joyce, Nathalia, Priya, and Vini worked on in lab rebuild the robot.<br>
                  &emsp; - On 9/10, Joyce, Nathalia, and Vini worked on rebuilding the robot and started the code. <br>
                  &emsp; - On 9/10, Nathalia went to open office hours and finished rebuilding the robot.<br>
                  The Lab Report Work Distribution is as follows: <br>
                  &emsp; - Joyce: Introduction and writeup<br>
                  &emsp; - Nathalia: Pictures and Videos<br>
                  The website work distribution is as follows: <br>
                  &emsp; - Nathalia: Website Set Up and Milestone 1<br>
              </p>
            </div>
          </div>
        </div>
      </div>

    

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-md-4">
            <span class="copyright">Copyright &copy; Your Website 2018</span>
          </div>
          <div class="col-md-4">
            <ul class="list-inline social-buttons">
              <li class="list-inline-item">
                <a href="#">
                  <i class="fab fa-twitter"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <i class="fab fa-facebook-f"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <i class="fab fa-linkedin-in"></i>
                </a>
              </li>
            </ul>
          </div>
          <div class="col-md-4">
            <ul class="list-inline quicklinks">
              <li class="list-inline-item">
                <a href="#">Privacy Policy</a>
              </li>
              <li class="list-inline-item">
                <a href="#">Terms of Use</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

 

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Contact form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/agency.min.js"></script>

  </body>

</html>
